<div class = "row">
  <div class="brew-info small-12 large-7 columns">
    <h1><%= @brewery.name %></h1>

    <ul class="fa-ul">
      <% if @brewery.city && @brewery.street_address %>
        <li>
          <%= fa_icon "location-arrow", text: "#{@brewery.street_address} #{@brewery.city.name}, #{@brewery.state.name}" %>
        </li>
      <% end %>

      <% if @brewery.website %>
        <li><%= fa_icon "external-link" %><%= link_to "Website", (@brewery.website) %></li>
      <% end %>

      <% if @brewery.phone %>
        <li>
          <%= fa_icon "phone", text: @brewery.phone %>
        </li>
      <% end %>

      <% if @brewery.hours_of_operation %>
        <li><%= fa_icon "clock-o", text: @brewery.hours_of_operation %></li>
      <% end %>
    </ul>
  </div>

  <% if ( (@brewery.latitude != nil) && (@brewery.longitude != nil) ) %>
    <%= render "single_brewery_map" %>
  <% end %>

</div>

<script type="text/javascript" >
  var geocoder;
  var map;

  function initialize() {
    geocoder = new google.maps.Geocoder();
    var latlng = new google.maps.LatLng(<%= @brewery.latitude %>,<%= @brewery.longitude %> );

    var mapOptions = {
      zoom: 6,
      center: latlng
    }
    map = new google.maps.Map(document.getElementById("map-canvas"), mapOptions);

    var infowindow = new google.maps.InfoWindow();

    var marker = new google.maps.Marker({
     position: new google.maps.LatLng(<%= @brewery.latitude %>, <%= @brewery.longitude %>),
     map: map,
    });

  }


  function loadScript() {
   var script = document.createElement('script');
   script.type = 'text/javascript';
   script.src = 'https://maps.googleapis.com/maps/api/js?v=3.exp' +
       '&signed_in=true&callback=initialize';
   document.body.appendChild(script);
  }

  window.onload = loadScript;

</script>
